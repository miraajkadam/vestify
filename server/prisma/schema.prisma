// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Users {
  Id       String   @id @default(uuid())
  Username String
  Password String
  UserType UserType @default(USER)
}

model Projects {
  Id                          String                        @id @default(uuid())
  Name                        String
  Description                 String
  Category                    String
  Round                       String
  ProjectTokenMetrics         ProjectTokenMetrics?
  ProjectDeals                ProjectDeals?
  ProjectTeamAndAdvisors      ProjectTeamAndAdvisors[]
  ProjectPartnersAndInvestors ProjectPartnersAndInvestors[]
}

model ProjectTokenMetrics {
  Id         String   @id @default(uuid())
  Project    Projects @relation(fields: [ProjectId], references: [Id])
  ProjectId  String   @unique @default(uuid())
  FDV        String
  Price      String
  TgeUnlock  String
  TGE        DateTime
  Vesting    DateTime
  Allocation String
}

model ProjectDeals {
  Id             String   @id @default(uuid())
  Project        Projects @relation(fields: [ProjectId], references: [Id])
  ProjectId      String   @unique @default(uuid())
  Maximum        Decimal
  Minimum        Decimal
  AcceptedTokens String
  PoolFee        Decimal
}

model ProjectTeamAndAdvisors {
  Id          String   @id @default(uuid())
  Project     Projects @relation(fields: [ProjectId], references: [Id])
  ProjectId   String   @default(uuid())
  Name        String
  Title       String
  Description String
}

model ProjectPartnersAndInvestors {
  Id                     String   @id @default(uuid())
  Project                Projects @relation(fields: [ProjectId], references: [Id])
  ProjectId              String   @default(uuid())
  PartnerAndInvestorName String
  PartnerAndInvestorLogo String
}

enum UserType {
  USER
  VC
}
